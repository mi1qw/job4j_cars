<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">


<nav th:fragment="pagination(page,totalPages)" class=" mt-3"
     aria-label="Page navigation">

  <th:block th:if="${totalPages>1}">
    <nav>
      <ul class="pagination justify-content-center">
        <li class="page-item " th:classappend="${#strings.equals(page,'1')}?' disabled':''">
          <a class="page-link" th:href="@{|/posts?page=*{page-1}|}">Previous</a>
        </li>


        <th:block th:each="ip:${#numbers.sequence(page-1-3,page-1)}"
                  th:if="*{ip>=1}">
          <li class="page-item">
            <a class="page-link" th:href="@{|/posts?page=*{ip}|}" th:text="*{ip}"></a>
          </li>
        </th:block>


          <li class="page-item active" aria-current='page'>
            <a class="page-link" th:href="@{|/posts?page=*{page}|}" th:text="*{page}"></a>
          </li>


        <th:block th:each="ip:${#numbers.sequence(page+1,page+1+3)}"
                  th:if="*{ip<=totalPages}">
          <li class="page-item">
            <a class="page-link" th:href="@{|/posts?page=*{ip}|}" th:text="*{ip}"></a>
          </li>
        </th:block>

        <li class="page-item" th:classappend="${#strings.equals(totalPages, page)}?'disabled':''">
          <a class="page-link" th:href="@{|/posts?page=*{page+1}|}">Next</a>
        </li>
      </ul>
    </nav>
  </th:block>

</nav>


</html>